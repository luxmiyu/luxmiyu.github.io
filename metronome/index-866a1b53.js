(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function d(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(e){if(e.ep)return;e.ep=!0;const r=d(e);fetch(e.href,r)}})();const b=[{dark:"eaeaea",light:"2a2a2a",name:"text"},{dark:"bababa",light:"5a5a5a",name:"text-secondary"},{dark:"cd435c",light:"e86880",name:"selection"},{dark:"eaeaea",light:"2a2a2a",name:"selection-text"},{dark:"1a1a1a",light:"eaeaea",name:"background"},{dark:"222222",light:"dedede",name:"background-accent"},{dark:"3a3a3a",light:"d2d2d2",name:"shadow"},{dark:"8a8a8a",light:"8a8a8a",name:"hr"},{dark:"2a2a2a",light:"d8d8d8",name:"button"},{dark:"bababa",light:"5a5a5a",name:"button-border"},{dark:"3a3a3a",light:"eaeaea",name:"button-hover"},{dark:"5a5a5a",light:"fafafa",name:"button-active"},{dark:"8a8a8a",light:"fafafa",name:"button-disabled"},{dark:"2a2a2a",light:"d8d8d8",name:"input"},{dark:"5a5a5a",light:"8a8a8a",name:"input-border"},{dark:"eaeaea",light:"5a5a5a",name:"scrollbar-thumb"},{dark:"1a1a1a",light:"eaeaea",name:"scrollbar-track"},{dark:"bababa",light:"eaeaea",name:"range"},{dark:"3a3a3a",light:"aaaaaa",name:"range-border"},{dark:"3a3a3a",light:"aaaaaa",name:"range-background"}],s=document.getElementById("theme-toggle");s&&s.addEventListener("click",()=>{E()});document.addEventListener("keydown",t=>{t.altKey&&t.key==="l"&&E()});function E(){localStorage.setItem("theme",localStorage.getItem("theme")==="dark"?"light":"dark"),y()}let A="";function y(){let t=localStorage.getItem("theme")==="light"?"light":"dark";localStorage.setItem("theme",t),s&&(t==="dark"?s.innerHTML="switch to light theme ðŸŒž":s.innerHTML="switch to dark theme ðŸŒš");for(let a in b){let d=b[a].name,l=b[a][t];document.documentElement.style.setProperty(`--color-${d}`,`#${l}`)}A=t}y();setInterval(()=>{A!==localStorage.getItem("theme")&&y()},500);let u=new Audio("https://cdn.glitch.global/e5143343-dba7-4602-8cff-d021bb699e44/tick.mp3?v=1681317682194"),c=new Audio("https://cdn.glitch.global/e5143343-dba7-4602-8cff-d021bb699e44/tock.mp3?v=1681317877994");function B(){u.currentTime>0&&(u.pause(),u.currentTime=0),u.play()}function I(){c.currentTime>0&&(c.pause(),c.currentTime=0),c.play()}let k=document.getElementById("bpm"),i=document.getElementById("beats"),h=document.getElementById("volume"),L=document.getElementById("rhythm"),S=document.querySelector('label[for="bpm"]'),w=document.querySelector('label[for="beats"]'),N=document.querySelector('label[for="volume"]'),q=document.querySelector('label[for="rhythm"]'),n=document.getElementById("visualizer"),x=document.querySelector(".subtitle");function f(){for(S.innerText=`BPM: ${k.value}`,w.innerText=`Beats: ${i.value}`,N.innerText=`Volume: ${h.value}`,q.innerText=`Rhythm: 1/${L.value}`,x.innerText=`tick ${"tock ".repeat(i.valueAsNumber-1)}`;n.firstChild;)n.removeChild(n.firstChild);for(let t=0;t<i.valueAsNumber;t++){let a=document.createElement("div");n.appendChild(a)}n.style.gridTemplateColumns=`repeat(${i.valueAsNumber}, 1fr)`,u.volume=h.valueAsNumber/100,c.volume=h.valueAsNumber/100}k.addEventListener("input",f);i.addEventListener("input",f);h.addEventListener("input",f);L.addEventListener("input",f);let g=0,p=0,m=!1;function v(){let t=Date.now();if(!m||t<p){requestAnimationFrame(v);return}let a=6e4/(k.valueAsNumber*L.valueAsNumber),d=Date.now()-g,l=Math.floor(d/a),e=l%i.valueAsNumber;e===0?B():I(),n.querySelectorAll("div").forEach((o,T)=>{T===e?o.classList.add("lit"):o.classList.remove("lit")}),p=g+a*(l+1),requestAnimationFrame(v)}requestAnimationFrame(v);let $=document.getElementById("start"),z=document.getElementById("stop");function M(){m||(m=!0,g=Date.now(),p=0)}function O(){if(!m)return;m=!1,n.querySelectorAll("div").forEach(a=>{a.classList.remove("lit")})}$.addEventListener("click",M);z.addEventListener("click",O);
