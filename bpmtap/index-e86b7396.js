(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))m(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const g of n.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&m(g)}).observe(document,{childList:!0,subtree:!0});function i(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function m(a){if(a.ep)return;a.ep=!0;const n=i(a);fetch(a.href,n)}})();const h=[{dark:"eaeaea",light:"2a2a2a",name:"text"},{dark:"bababa",light:"5a5a5a",name:"text-secondary"},{dark:"cd435c",light:"e86880",name:"selection"},{dark:"eaeaea",light:"2a2a2a",name:"selection-text"},{dark:"1a1a1a",light:"eaeaea",name:"background"},{dark:"222222",light:"dedede",name:"background-accent"},{dark:"3a3a3a",light:"d2d2d2",name:"shadow"},{dark:"8a8a8a",light:"8a8a8a",name:"hr"},{dark:"2a2a2a",light:"d8d8d8",name:"button"},{dark:"bababa",light:"5a5a5a",name:"button-border"},{dark:"3a3a3a",light:"eaeaea",name:"button-hover"},{dark:"5a5a5a",light:"fafafa",name:"button-active"},{dark:"8a8a8a",light:"fafafa",name:"button-disabled"},{dark:"2a2a2a",light:"d8d8d8",name:"input"},{dark:"5a5a5a",light:"8a8a8a",name:"input-border"},{dark:"eaeaea",light:"5a5a5a",name:"scrollbar-thumb"},{dark:"1a1a1a",light:"eaeaea",name:"scrollbar-track"},{dark:"bababa",light:"eaeaea",name:"range"},{dark:"3a3a3a",light:"aaaaaa",name:"range-border"},{dark:"3a3a3a",light:"aaaaaa",name:"range-background"}],l=document.getElementById("theme-toggle");l&&l.addEventListener("click",()=>{f()});document.addEventListener("keydown",t=>{t.altKey&&t.key==="l"&&f()});function f(){localStorage.setItem("theme",localStorage.getItem("theme")==="dark"?"light":"dark"),u()}let p="";function u(){let t=localStorage.getItem("theme")==="light"?"light":"dark";localStorage.setItem("theme",t),l&&(t==="dark"?l.innerHTML="switch to light theme ðŸŒž":l.innerHTML="switch to dark theme ðŸŒš");for(let r in h){let i=h[r].name,m=h[r][t];document.documentElement.style.setProperty(`--color-${i}`,`#${m}`)}p=t}u();setInterval(()=>{p!==localStorage.getItem("theme")&&u()},500);const e={bpm:document.getElementById("bpm-value"),rhythm:document.getElementById("rhythm"),total:document.getElementById("total"),mstap:document.getElementById("mstap"),taps:document.getElementById("taps"),tap:document.getElementById("tap"),reset:document.getElementById("reset"),details:document.getElementById("details"),detailsremaining:document.getElementById("details-remaining")};let d=0,s=0,o=0;function c(){if(o<3){e.bpm.textContent="0.0",e.total.textContent="0",e.mstap.textContent="0.0",e.taps.textContent="0.0";let i=3-o;o===0?e.detailsremaining.textContent="Waiting for taps...":i===1?e.detailsremaining.textContent="Tap 1 more time...":e.detailsremaining.textContent=`Tap ${i} more times...`,e.details.classList.add("hidden"),e.detailsremaining.classList.remove("hidden");return}e.details.classList.remove("hidden"),e.detailsremaining.classList.add("hidden");const t=e.rhythm.value,r=(o-1)/((s-d)/1e3)*(60/Number(t));e.bpm.textContent=r.toFixed(1),e.total.textContent=o.toString(),e.mstap.textContent=((s-d)/(o-1)).toFixed(1),e.taps.textContent=((o-1)/((s-d)/1e3)).toFixed(1)}function b(){d===0&&(d=Date.now()),s=Date.now(),o++,c()}function y(){d=0,s=0,o=0,c()}e.tap.addEventListener("pointerdown",b);e.reset.addEventListener("click",y);e.rhythm.addEventListener("change",c);document.addEventListener("keydown",t=>{const r=t.code.startsWith("Key")&&t.code.length===4,i=["Space","Enter","NumpadEnter"].includes(t.code);t.code==="KeyR"?y():(r||i)&&b()});c();
