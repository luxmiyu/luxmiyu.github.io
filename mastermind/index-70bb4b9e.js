(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const d of r)if(d.type==="childList")for(const o of d.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const d={};return r.integrity&&(d.integrity=r.integrity),r.referrerPolicy&&(d.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?d.credentials="include":r.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(r){if(r.ep)return;r.ep=!0;const d=a(r);fetch(r.href,d)}})();const k=[{dark:"eaeaea",light:"2a2a2a",name:"text"},{dark:"bababa",light:"5a5a5a",name:"text-secondary"},{dark:"cd435c",light:"e86880",name:"selection"},{dark:"eaeaea",light:"2a2a2a",name:"selection-text"},{dark:"1a1a1a",light:"eaeaea",name:"background"},{dark:"222222",light:"dedede",name:"background-accent"},{dark:"3a3a3a",light:"d2d2d2",name:"shadow"},{dark:"8a8a8a",light:"8a8a8a",name:"hr"},{dark:"2a2a2a",light:"d8d8d8",name:"button"},{dark:"bababa",light:"5a5a5a",name:"button-border"},{dark:"3a3a3a",light:"eaeaea",name:"button-hover"},{dark:"5a5a5a",light:"fafafa",name:"button-active"},{dark:"8a8a8a",light:"fafafa",name:"button-disabled"},{dark:"2a2a2a",light:"d8d8d8",name:"input"},{dark:"5a5a5a",light:"8a8a8a",name:"input-border"},{dark:"eaeaea",light:"5a5a5a",name:"scrollbar-thumb"},{dark:"1a1a1a",light:"eaeaea",name:"scrollbar-track"},{dark:"bababa",light:"eaeaea",name:"range"},{dark:"3a3a3a",light:"aaaaaa",name:"range-border"},{dark:"3a3a3a",light:"aaaaaa",name:"range-background"},{dark:"e26f80",light:"f4899d",name:"checkbox-background"},{dark:"222222",light:"222222",name:"00"},{dark:"eeeeee",light:"eeeeee",name:"01"},{dark:"cf0000",light:"cf0000",name:"02"},{dark:"9ee0ff",light:"9ee0ff",name:"0"},{dark:"b1ffa9",light:"b1ffa9",name:"1"},{dark:"fffdb8",light:"fffdb8",name:"2"},{dark:"ffb398",light:"ffb398",name:"3"},{dark:"ff9ccf",light:"ff9ccf",name:"4"},{dark:"cfa4ff",light:"cfa4ff",name:"5"}],m=document.getElementById("theme-toggle");m&&m.addEventListener("click",()=>{I()});document.addEventListener("keydown",t=>{t.altKey&&t.key==="l"&&I()});function I(){localStorage.setItem("theme",localStorage.getItem("theme")==="dark"?"light":"dark"),v()}let C="";function v(){let t=localStorage.getItem("theme")==="light"?"light":"dark";localStorage.setItem("theme",t),m&&(t==="dark"?m.innerHTML="switch to light theme ðŸŒž":m.innerHTML="switch to dark theme ðŸŒš");for(let e in k){let a=k[e].name,n=k[e][t];document.documentElement.style.setProperty(`--color-${a}`,`#${n}`)}C=t}v();setInterval(()=>{C!==localStorage.getItem("theme")&&v()},500);const y=document.getElementById("answer"),g=document.getElementById("board"),M=document.getElementById("colors"),A=document.getElementById("delete"),K=document.getElementById("submit"),T=document.getElementById("restart"),s=6,c=4,E=12;function u(t){if(typeof t=="number"&&(t>=0||t<s))return`color${t}`;if(typeof t=="string")return`code${t}`;throw new Error("Invalid color")}let h=!1,L=Array.from({length:c},()=>0);const f=[],i=[];function R(t,e){let a=0,n=0;const r=Array.from({length:s},()=>0),d=Array.from({length:s},()=>0);for(let o=0;o<c;o++)t[o]===e[o]?a++:(r[t[o]]++,d[e[o]]++);for(let o=0;o<s;o++){const D=r[o],S=d[o];n+=Math.min(D,S)}return{reds:a,whites:n}}function H(t){const e=document.createElement("div");e.classList.add("guess");for(const a of t){const n=document.createElement("div");n.classList.add("color",u(a)),e.appendChild(n)}for(let a=0;a<c-t.length;a++){const n=document.createElement("div");n.classList.add("empty"),e.appendChild(n)}return e}function _(t){const e=document.createElement("div");e.classList.add("codes");for(let a=0;a<t.reds;a++){const n=document.createElement("div");n.classList.add("code",u("02")),e.appendChild(n)}for(let a=0;a<t.whites;a++){const n=document.createElement("div");n.classList.add("code",u("01")),e.appendChild(n)}for(let a=0;a<c-t.reds-t.whites;a++){const n=document.createElement("div");n.classList.add("empty"),e.appendChild(n)}return e}function b(t,e){const a=document.createElement("div");return a.classList.add("row"),a.appendChild(H(t)),a.appendChild(_(e)),a}function p(){g.innerHTML="";const t=f.length;for(let e=0;e<t;e++){const a=f[e],n=R(a,L),r=b(a,n);g.appendChild(r),n.reds===c&&(h=!0,B())}if(f.length<E){const e=b(i,{reds:0,whites:0});g.appendChild(e)}for(let e=t+1;e<E;e++){const a=b([],{reds:0,whites:0});g.appendChild(a)}}function F(){L=Array.from({length:c},()=>Math.floor(Math.random()*s))}function G(){y.innerHTML=""}function B(){y.innerHTML="";for(const t of L){const e=document.createElement("div");e.classList.add("color",u(t)),y.appendChild(e)}}function l(t){!h&&i.length<c&&(i.push(t),p())}function N(){!h&&i.length===c&&(f.push([...i]),i.length=0,f.length===E&&(h=!0,B()),p())}function O(){i.length>0&&(i.pop(),p())}function w(){h=!1,f.length=0,i.length=0,G(),F(),p()}for(let t=0;t<s;t++){const e=document.createElement("div");e.classList.add("button-color",u(t)),M.appendChild(e),e.addEventListener("click",()=>l(t))}A.addEventListener("click",()=>O());K.addEventListener("click",()=>N());T.addEventListener("click",()=>w());document.addEventListener("keydown",t=>{if(t.repeat)return;const e=t.code;["Digit1","Numpad1","KeyS"].includes(e)&&l(0),["Digit2","Numpad2","KeyD"].includes(e)&&l(1),["Digit3","Numpad3","KeyF"].includes(e)&&l(2),["Digit4","Numpad4","KeyJ"].includes(e)&&l(3),["Digit5","Numpad5","KeyK"].includes(e)&&l(4),["Digit6","Numpad6","KeyL"].includes(e)&&l(5),["Backspace","Delete"].includes(e)&&O(),["Enter","NumpadEnter","Space"].includes(e)&&N(),["KeyR","Escape","Insert"].includes(e)&&w()});w();
